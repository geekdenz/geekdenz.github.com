(()=>{const e=function(){const e=document.createElement("div");e.className="img-modal-overlay",e.setAttribute("aria-hidden","true");const o=document.createElement("div");o.className="img-modal-dialog",o.setAttribute("role","dialog"),o.setAttribute("aria-modal","true");const t=document.createElement("button");t.className="img-modal-close",t.type="button",t.setAttribute("aria-label","Close image"),t.innerHTML="&times;";const n=document.createElement("img");n.className="img-modal-img",n.alt="",o.appendChild(t),o.appendChild(n),e.appendChild(o),document.body.appendChild(e);let l=null,a=-1,r=[];function i(){e.classList.remove("open"),e.setAttribute("aria-hidden","true"),document.body.style.overflow="",n.src="",a=-1,l&&"function"==typeof l.focus&&l.focus()}return t.addEventListener("click",i),e.addEventListener("click",o=>{o.target===e&&i()}),window.addEventListener("keydown",o=>{if(e.classList.contains("open"))switch(o.key){case"Escape":i();break;case"ArrowLeft":o.preventDefault(),function(){if(a<=0)return;a--;const e=r[a];e&&(n.src=e.src,n.alt=e.alt||"")}();break;case"ArrowRight":o.preventDefault(),function(){if(a>=r.length-1)return;a++;const e=r[a];e&&(n.src=e.src,n.alt=e.alt||"")}()}}),{openModal:function(o,i="",s=null){o&&(r=Array.from(document.querySelectorAll(".gallery-item img, .gallery img, [data-gallery] img")).filter(e=>e.src&&""!==e.src.trim()),s&&(a=r.findIndex(e=>e===s||e.src===o)),-1===a&&(a=r.findIndex(e=>e.src===o)),l=document.activeElement,n.src=o,n.alt=i||"",e.classList.add("open"),e.setAttribute("aria-hidden","false"),document.body.style.overflow="hidden",t.focus())}}}();document.addEventListener("click",o=>{const t=function(e){const o=e.closest("[data-fullsrc]")||(e.closest("a")&&e.closest("a").hasAttribute("data-fullsrc")?e.closest("a"):null);if(o)return{src:o.getAttribute("data-fullsrc"),alt:o.getAttribute("alt")||e.getAttribute("alt")||"",element:o.querySelector("img")||o};const t=e.closest("img");return t&&t.src?{src:t.src,alt:t.alt||"",element:t}:null}(o.target);t&&(o.target.closest(".gallery, [data-gallery], .image-grid, .gallery-item")||o.target.matches("[data-fullsrc]"))&&(o.preventDefault(),e.openModal(t.src,t.alt,t.element))});let o=null,t=!1,n=!1;function l(){if(document.querySelector('script[src*="youtube.com/iframe_api"]'))return console.log("YouTube API script already exists"),void("undefined"!=typeof YT&&YT.Player&&(console.log("YouTube API is loaded"),n=!0,o||window.onYouTubeIframeAPIReady()));console.log("Loading YouTube API...");const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api",e.async=!0,e.onload=function(){console.log("YouTube API script loaded successfully"),setTimeout(()=>{"undefined"!=typeof YT&&YT.Player&&!o&&(console.log("API ready, calling initialization..."),window.onYouTubeIframeAPIReady())},100)},e.onerror=function(e){console.error("Failed to load YouTube API script:",e)};const t=document.getElementsByTagName("script")[0];t?t.parentNode.insertBefore(e,t):document.head.appendChild(e),setTimeout(()=>{"undefined"==typeof YT?console.error("YouTube API failed to load after 5 seconds"):o||(console.log("API loaded but player not initialized, calling ready function..."),window.onYouTubeIframeAPIReady())},5e3)}function a(){console.log("Using fallback postMessage method...");const e=document.getElementById("youtube");if(!e)return void console.error("YouTube iframe not found");let o=e.src;if(o.includes("enablejsapi=1"))e.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*");else{console.log("Adding enablejsapi=1 to iframe src...");const t=o.includes("?")?"&":"?";e.src=o+t+"enablejsapi=1",setTimeout(()=>{e.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*")},1e3)}}window.onYouTubeIframeAPIReady=function(){console.log("YouTube API loaded, initializing player..."),n=!0,document.getElementById("youtube")?o=new YT.Player("youtube",{events:{onReady:function(e){console.log("YouTube player ready"),t=!0,window.youtubePlayer=o},onStateChange:function(e){console.log("Player state changed:",e.data)},onError:function(e){console.error("YouTube player error:",e.data)}}}):console.error('YouTube iframe with id="youtube" not found')},window.debugYouTube=function(){console.log("=== YouTube Debug Info ==="),console.log("YT object exists:","undefined"!=typeof YT),console.log("YT.Player exists:","undefined"!=typeof YT&&!!YT.Player),console.log("API loaded flag:",n),console.log("Player exists:",!!o),console.log("Player ready:",t),console.log("Iframe exists:",!!document.getElementById("youtube")),console.log("Script tag exists:",!!document.querySelector('script[src*="youtube.com/iframe_api"]'));const e=document.getElementById("youtube");e&&(console.log("Iframe src:",e.src),console.log("Has enablejsapi:",e.src.includes("enablejsapi")))},document.addEventListener("DOMContentLoaded",function(){console.log("DOM loaded, initializing YouTube..."),document.getElementById("youtube")?(console.log("YouTube iframe found"),l()):console.log('No YouTube iframe found with id="youtube"')}),window.playYouTubeVideo=function e(){if(console.log("Attempting to play YouTube video..."),console.log("API loaded:",n,"Player ready:",t),document.getElementById("youtube")){if("undefined"==typeof YT||!YT.Player)return console.warn("YouTube API not loaded yet. Loading now..."),l(),void setTimeout(()=>{"undefined"!=typeof YT&&YT.Player?e():(console.error("YouTube API still not available, trying fallback method"),a())},3e3);if(!o||!t)return console.warn("YouTube player not ready. Initializing..."),window.onYouTubeIframeAPIReady(),void setTimeout(()=>{t&&o?(o.playVideo(),console.log("Play command sent")):(console.warn("Player still not ready, trying fallback"),a())},2e3);try{o.playVideo(),console.log("Play command sent")}catch(e){console.error("Error playing video:",e),a()}}else console.error('YouTube iframe with id="youtube" not found')}})();