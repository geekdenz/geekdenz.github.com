(()=>{const e=function(){const e=document.createElement("div");e.className="img-modal-overlay",e.setAttribute("aria-hidden","true");const t=document.createElement("div");t.className="img-modal-dialog",t.setAttribute("role","dialog"),t.setAttribute("aria-modal","true");const a=document.createElement("button");a.className="img-modal-close",a.type="button",a.setAttribute("aria-label","Close image"),a.innerHTML="&times;";const l=document.createElement("img");l.className="img-modal-img",l.alt="",t.appendChild(a),t.appendChild(l),e.appendChild(t),document.body.appendChild(e);let r=null,n=-1,s=[];function c(){e.classList.remove("open"),e.setAttribute("aria-hidden","true"),document.body.style.overflow="",l.src="",n=-1,r&&"function"==typeof r.focus&&r.focus()}return a.addEventListener("click",c),e.addEventListener("click",t=>{t.target===e&&c()}),window.addEventListener("keydown",t=>{if(e.classList.contains("open"))switch(t.key){case"Escape":c();break;case"ArrowLeft":t.preventDefault(),function(){if(n<=0)return;n--;const e=s[n];e&&(l.src=e.src,l.alt=e.alt||"")}();break;case"ArrowRight":t.preventDefault(),function(){if(n>=s.length-1)return;n++;const e=s[n];e&&(l.src=e.src,l.alt=e.alt||"")}()}}),{openModal:function(t,c="",i=null){t&&(s=Array.from(document.querySelectorAll(".gallery-item img, .gallery img, [data-gallery] img")).filter(e=>e.src&&""!==e.src.trim()),i&&(n=s.findIndex(e=>e===i||e.src===t)),-1===n&&(n=s.findIndex(e=>e.src===t)),r=document.activeElement,l.src=t,l.alt=c||"",e.classList.add("open"),e.setAttribute("aria-hidden","false"),document.body.style.overflow="hidden",a.focus())}}}();document.addEventListener("click",t=>{const a=function(e){const t=e.closest("[data-fullsrc]")||(e.closest("a")&&e.closest("a").hasAttribute("data-fullsrc")?e.closest("a"):null);if(t)return{src:t.getAttribute("data-fullsrc"),alt:t.getAttribute("alt")||e.getAttribute("alt")||"",element:t.querySelector("img")||t};const a=e.closest("img");return a&&a.src?{src:a.src,alt:a.alt||"",element:a}:null}(t.target);a&&(t.target.closest(".gallery, [data-gallery], .image-grid, .gallery-item")||t.target.matches("[data-fullsrc]"))&&(t.preventDefault(),e.openModal(a.src,a.alt,a.element))})})();